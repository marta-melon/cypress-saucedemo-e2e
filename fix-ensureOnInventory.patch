*** Begin Patch
*** Update File: cypress/support/commands.js
@@
-// cypress/support/commands.js
-import 'cypress-axe';
-import { Sel } from './selectors.js';
-
-/**
- * Logs in from the login page.
- * Requires baseUrl=https://www.saucedemo.com in cypress.config.*
- * If you don't use baseUrl, replace cy.visit('/') with the full URL.
- */
-Cypress.Commands.add('login', (username = 'standard_user', password = 'secret_sauce') => {
-  cy.visit('/'); // or: cy.visit('https://www.saucedemo.com/')
-  cy.get(Sel.login.username, { timeout: 15000 }).clear().type(username);
-  cy.get(Sel.login.password).clear().type(password, { log: false });
-  cy.get(Sel.login.submit).click();
-  cy.url().should('include', '/inventory.html');
-});
-
-/** Logs out via burger menu and verifies redirect to the login page. */
-Cypress.Commands.add('logout', () => {
-  cy.get(Sel.burger.menuBtn).click();
-  cy.get(Sel.burger.logout).should('be.visible').click();
-  cy.url().should('match', /https:\/\/www\.saucedemo\.com\/?$/);
-});
-
-/**
- * Ensures we are on the Inventory page.
- * If not logged in, performs login first.
- */
-Cypress.Commands.add('ensureOnInventory', () => {
-  cy.location('pathname').then((p) => {
-    if (!p.includes('/inventory.html')) {
-      cy.login();
-    }
-  });
-  cy.url().should('include', '/inventory.html');
-  cy.contains('.title', 'Products').should('be.visible');
-});
-
-/** Adds the first visible product from the inventory list. */
-Cypress.Commands.add('addAnyItem', () => {
-  cy.get(Sel.inventory.item).first().within(() => {
-    cy.contains('button', 'Add to cart').click();
-  });
-});
-
-/** Opens the cart page from the header icon and verifies the URL. */
-Cypress.Commands.add('openCart', () => {
-  cy.get(Sel.inventory.cartIcon).click();
-  cy.url().should('include', '/cart.html');
-});
+// cypress/support/commands.js
+import 'cypress-axe';
+import { Sel } from './selectors.js';
+
+/**
+ * Login from the login page.
+ * Requires baseUrl in cypress.config.* (e.g. https://www.saucedemo.com)
+ */
+Cypress.Commands.add('login', (username = 'standard_user', password = 'secret_sauce') => {
+  cy.visit('/'); // baseUrl + '/'
+  cy.get(Sel.login.username, { timeout: 15000 }).clear().type(username);
+  cy.get(Sel.login.password).clear().type(password, { log: false });
+  cy.get(Sel.login.submit).click();
+  cy.url().should('include', '/inventory.html');
+});
+
+/** Logout via burger menu and verify redirect to the login page (exact URL). */
+Cypress.Commands.add('logout', () => {
+  cy.get(Sel.burger.menuBtn).click();
+  cy.get(Sel.burger.logout).should('be.visible').click();
+  const base = Cypress.config('baseUrl');
+  expect(base, 'Set baseUrl in cypress.config.*').to.be.a('string').and not be.empty;
+  const expectedLoginUrl = new URL('/', base).toString();
+  cy.url().should('eq', expectedLoginUrl);
+});
+
+/**
+ * Ensure we are on the Inventory page.
+ * If not, perform login first (idempotent).
+ */
+Cypress.Commands.add('ensureOnInventory', () => {
+  cy.location('pathname').then((p) => {
+    if (!p.includes('/inventory.html')) {
+      cy.login();
+    }
+  });
+  cy.url().should('include', '/inventory.html');
+  cy.contains('.title', 'Products').should('be.visible');
+});
+
+/** Add the first visible product from the inventory list. */
+Cypress.Commands.add('addAnyItem', () => {
+  cy.get(Sel.inventory.item).first().within(() => {
+    cy.contains('button', 'Add to cart').click();
+  });
+});
+
+/** Open the cart page from the header icon and verify the URL. */
+Cypress.Commands.add('openCart', () => {
+  cy.get(Sel.inventory.cartIcon).click();
+  cy.url().should('include', '/cart.html');
+});
*** End Patch
*** Begin Patch
*** Update File: cypress/e2e/quality-visual.cy.js
@@
-  cy.login('standard_user', 'secret_sauce');
   cy.ensureOnInventory();
*** End Patch
*** Begin Patch
*** Update File: cypress/e2e/checkout-happy-path.cy.js
@@
-    cy.login('standard_user', 'secret_sauce');
     cy.ensureOnInventory();
*** End Patch
*** Begin Patch
*** Update File: cypress/e2e/checkout-validation.cy.js
@@
-    cy.login('standard_user', 'secret_sauce');
     cy.ensureOnInventory();
*** End Patch
*** Begin Patch
*** Update File: cypress/e2e/auth-logout.cy.js
@@
-    cy.login('standard_user', 'secret_sauce');
     cy.ensureOnInventory();
*** End Patch
